{% extends 'employees/base.html' %}

{% block title %}{{ title }} - PayEase{% endblock %}

{% block content %}
<div class="card">
    <div class="card-header">
        <h4><i class="bi bi-person-plus"></i> {{ title }}</h4>
    </div>
    <div class="card-body">
        <form method="post">
            {% csrf_token %}
            <div class="alert alert-info">
                <strong>Note:</strong> You can link this employee to an existing user account below. If the employee hasn't registered yet, leave this field empty.
            </div>
            <div class="mb-3">
                <label for="id_user" class="form-label">Link User Account (Optional)</label>
                {{ form.user }}
                {% if form.user.help_text %}
                    <small class="form-text text-muted">{{ form.user.help_text }}</small>
                {% endif %}
            </div>
            <hr>
            <div class="row">
                <div class="col-md-6 mb-3">
                    <label for="id_employee_id" class="form-label">Employee ID *</label>
                    {{ form.employee_id }}
                </div>
                <div class="col-md-6 mb-3">
                    <label for="id_full_name" class="form-label">Full Name *</label>
                    {{ form.full_name }}
                </div>
            </div>
            <div class="row">
                <div class="col-md-6 mb-3">
                    <label for="id_email" class="form-label">Email *</label>
                    {{ form.email }}
                </div>
                <div class="col-md-6 mb-3">
                    <label for="id_phone" class="form-label">Phone *</label>
                    {{ form.phone }}
                </div>
            </div>
            <div class="mb-3">
                <label for="id_address" class="form-label">Address</label>
                {{ form.address }}
            </div>
            <div class="row">
                <div class="col-md-4 mb-3">
                    <label for="id_date_of_joining" class="form-label">Date of Joining *</label>
                    {{ form.date_of_joining }}
                </div>
                <div class="col-md-4 mb-3">
                    <label for="id_designation" class="form-label">Designation *</label>
                    {{ form.designation }}
                </div>
                <div class="col-md-4 mb-3">
                    <label for="id_department" class="form-label">Department *</label>
                    {{ form.department }}
                </div>
            </div>
            <hr>
            <h5>Bank Information</h5>
            <div class="row">
                <div class="col-md-4 mb-3">
                    <label for="id_bank_name" class="form-label">Bank Name *</label>
                    {{ form.bank_name }}
                </div>
                <div class="col-md-4 mb-3">
                    <label for="id_account_number" class="form-label">Account Number *</label>
                    {{ form.account_number }}
                </div>
                <div class="col-md-4 mb-3">
                    <label for="id_ifsc_code" class="form-label">IFSC Code *</label>
                    {{ form.ifsc_code }}
                </div>
            </div>
            <div class="mb-3">
                <label for="id_base_salary" class="form-label">Base Salary *</label>
                {{ form.base_salary }}
            </div>
            <div class="d-flex justify-content-between">
                <a href="{% url 'employee_list' %}" class="btn btn-secondary">
                    <i class="bi bi-arrow-left"></i> Cancel
                </a>
                <button type="submit" class="btn btn-primary">
                    <i class="bi bi-check"></i> Save
                </button>
            </div>
        </form>
    </div>
</div>
{% endblock %}

{% block extra_js %}
<script>
    document.querySelectorAll('input, select, textarea').forEach(el => {
        if (!el.classList.contains('form-control') && !el.classList.contains('form-select')) {
            el.classList.add('form-control');
        }
    });
</script>
{% endblock %}


